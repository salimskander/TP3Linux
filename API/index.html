<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoring Web Interface</title>

    <!-- Ajoutez les liens vers les bibliothèques JavaScript et CSS nécessaires ici -->
    <link rel="stylesheet" href="https://unpkg.com/@jimuyouyou/easygauge/dist/easygauge.min.css">
    <script src="https://unpkg.com/@jimuyouyou/easygauge/dist/easygauge.min.js"></script>
</head>
<body>
    <h1>System Monitoring Dashboard</h1>

    <div id="cpuGauge"></div>
    <div id="memoryGauge"></div>

    <script>
        // Fonction pour mettre à jour les jauges
        function updateGauges(data) {
            // Mettez à jour les jauges avec les données reçues
            cpuGauge.update(data.cpu_percent);
            memoryGauge.update(data.memory_percent);
        }

        // Créez les jauges lors du chargement de la page
        document.addEventListener('DOMContentLoaded', function () {
            // Créez les jauges avec des options de configuration
            var cpuGauge = new EasyGauge(document.getElementById('cpuGauge'), {
                label: 'CPU Usage',
                value: 0,
                min: 0,
                max: 100,
                unit: '%'
            });

            var memoryGauge = new EasyGauge(document.getElementById('memoryGauge'), {
                label: 'Memory Usage',
                value: 0,
                min: 0,
                max: 100,
                unit: '%'
            });

            // Effectuez une requête à l'API Flask pour obtenir les données
            fetch('/api/system_stats')
                .then(response => response.json())
                .then(data => updateGauges(data));

            // Mettez à jour les jauges toutes les quelques secondes
            setInterval(function () {
                fetch('/api/system_stats')
                    .then(response => response.json())
                    .then(data => updateGauges(data));
            }, 5000);  // Mettez à jour toutes les 5 secondes (à adapter selon vos besoins)
        });
    </script>
</body>
</html>
